---
import NavBar from '../components/NavBar.astro';
import HomepageCard from '../components/HomepageCard.astro';
import Layout from '../layouts/Layout.astro';
---

<Layout title="Adapt" hideNavBar>
  <main class="m-auto">
    <div class="flex flex-col relative overflow-hidden box-border h-full" id="banner">
      <NavBar transparent />
      <canvas id="mesh-gradient" data-transition-in />
      <div class="motion-safe:animate-fade-in text-center flex flex-col items-center px-24 py-32 mobile:px-16 mobile:py-16">
        <h1 class="text-8xl font-black pb-8 font-title">Adapt, Evolve, Chat</h1>
        <p class="text-xl text-white text-opacity-60">
          Grow a community, connect with your friends, or whatever you're capable of with Adapt,
          a lightweight and customizable messaging platform which favors your privacy.
        </p>
        <a class="mt-12 px-6 py-4 rounded-md text-xl bg-accent bg-opacity-60 hover:bg-opacity-100 transition-all shadow cursor-pointer" href="#why-adapt">
          Learn More
        </a>
      </div>
    </div>
    <h1 class="text-center p-8 mt-4 text-4xl font-bold font-title" id="why-adapt">Why Adapt?</h1>
    <ul class="flex flex-wrap m-auto justify-between md:mx-4 mobile:flex-nowrap mobile:flex-col">
      <HomepageCard title="Open Source" icon="/assets/code.svg">
        Adapt is completely open source, so you can see exactly what's going on under the hood.
        It also means you, along with the community, can contribute to Adapt. This means adding
        features, patching bugs, and detecting security vulnerabilities is faster and easier.
      </HomepageCard>
      <HomepageCard title="Privacy" icon="/assets/lock.svg">
        Adapt values your privacy. We store as little data as possible, and we don't sell your data
        to advertisers. If you're ever in doubt, remember that Adapt is open source.
      </HomepageCard>
      <HomepageCard title="Fast" icon="/assets/bolt.svg">
        Adapt's backends are written in <i>Rust</i>, not only ensuring that Adapt is performant,
        but also preventing less error-prone and vulnerable code from being shipped. And your
        client can be written in Rust too, if you want.
      </HomepageCard>
    </ul>
  </main>
</Layout>

<script>
  import { Gradient } from 'whatamesh'

  const gradient = new Gradient()
  gradient.initGradient('#mesh-gradient')

  const banner = document.getElementById('banner')!
  banner.addEventListener('mouseover', () => gradient.play())
  banner.addEventListener('mouseout', () => gradient.pause())
</script>

<style>
  #mesh-gradient {
    top: 0;
    left: 0;
    display: flex;
    position: absolute;
    align-items: stretch;
    justify-content: stretch;
    width: 100%;
    height: 100%;
    opacity: 0.5;
    flex-grow: 1;
    z-index: -1;
    --gradient-color-1: #0586ff; 
    --gradient-color-2: #9500f2; 
    --gradient-color-3: #ff3d94;  
    --gradient-color-4: #0056c6;
  }
</style>